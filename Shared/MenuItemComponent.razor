@using Microsoft.JSInterop
@inject IJSRuntime JSRuntime;

@if (Item.Children != null && Item.Children.Any())
{
    <BSDropdownToggle @onmouseover=DisplayMenu Color="Color.None">@Item.Label</BSDropdownToggle>
    <BSDropdownMenu IsOpen="IsOpen" @onmouseover=DisplayMenu @onmouseout="HideMenu" >
        @foreach (var child in Item.Children)
        {
            <BSDropdown>
                <MenuItemComponent Item=@child @key=child />
            </BSDropdown>
        }
    </BSDropdownMenu>
}
else
{
    <BSDropdownItem @onclick='((e) => SelectItem(Item))' Href="javascript:void(0);">@Item.Label</BSDropdownItem>
}
@code {
    [Parameter] public MultilevelDropdownMenu.Models.MenuItem Item { get; set; }

    private bool IsOpen;

    void HideMenu()
    {
        IsOpen = false;
    }

    void DisplayMenu()
    {
        IsOpen = true;
    }

    void SelectItem(MultilevelDropdownMenu.Models.MenuItem selectedItem)
    {
        Console.WriteLine(selectedItem.Label);
    }
}
